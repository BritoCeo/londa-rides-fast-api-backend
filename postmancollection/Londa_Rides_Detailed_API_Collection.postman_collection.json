{
  "info": {
    "name": "Londa Rides - Detailed API Testing Collection",
    "description": "Comprehensive API collection for testing Londa Rides CC on local machine (http://localhost:8000). Includes all endpoints with sample request bodies and proper authentication.\n\n## üìã Important Notes:\n\n### API Gateway:\n- All requests go through the API Gateway at `http://localhost:8000`\n- The Gateway proxies all `/api/v1/*` routes to the main server\n- **All responses are guaranteed to be JSON format** (no HTML error pages)\n- Standard response format: `{ success, message, data?, error?, timestamp }`\n\n### Response Format:\nAll API responses follow this JSON structure:\n```json\n{\n  \"success\": true|false,\n  \"message\": \"string\",\n  \"data\": {...},  // optional\n  \"error\": {...}, // optional (for errors)\n  \"timestamp\": \"ISO string\"\n}\n```\n\n### Error Responses:\nAll errors (404, 500, etc.) return JSON:\n```json\n{\n  \"success\": false,\n  \"message\": \"Error message\",\n  \"error\": {\n    \"code\": \"ERROR_CODE\",\n    \"details\": \"...\"\n  },\n  \"timestamp\": \"ISO string\"\n}\n```\n\n## üîë How to Get Auth Token:\n\n### For Users:\n1. Call **\"Register User (Send OTP)\"** - This sends OTP to your phone\n2. Call **\"Verify OTP (Login)\"** - Enter the OTP you received\n3. The response will contain `accessToken` - This is your auth_token\n4. The token is automatically saved to collection variable `auth_token`\n\n### For Drivers:\n1. Call **\"Driver Send OTP\"** - This sends OTP to driver's phone\n2. Call **\"Driver Login\"** - Enter the OTP you received\n3. The response will contain `accessToken` or `data.token` - This is your auth_token\n4. The token is automatically saved to collection variable `auth_token`\n\n### Manual Method:\nIf automatic saving doesn't work:\n1. After login, copy the `accessToken` or `token` value from the response\n2. Click on the collection name (top level)\n3. Go to \"Variables\" tab\n4. Paste the token into the `auth_token` variable\n5. Save the collection\n\n**Note:** Auth tokens expire after 30 days for users and 7 days for drivers.\n\n## üöÄ Getting Started:\n1. Ensure API Gateway is running on port 8000\n2. Ensure main server is running on port 3001 (or set MAIN_SERVER_URL)\n3. Start with \"Health Check\" to verify API is accessible\n4. Use \"API Test\" to verify JSON responses are working\n\n## üéØ Enhanced Features:\n\n### ‚úÖ Comprehensive Test Scripts\n- Response format validation (JSON only)\n- Status code verification\n- Response structure validation\n- Data type checking\n- Business logic validation\n- Error response validation\n- Performance timing checks\n\n### üîÑ Pre-request Scripts\n- Dynamic test data generation\n- Automatic variable management\n- Request body validation\n\n### üìö Detailed Documentation\n- Endpoint descriptions with examples\n- Request/response examples\n- Error scenarios\n- Authentication requirements",
    "version": "3.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{auth_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "api_base",
      "value": "{{base_url}}/api/v1",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "driver_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "ride_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "subscription_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "session_info",
      "value": "",
      "type": "string",
      "description": "Session info from registration response, used for OTP verification"
    },
    {
      "key": "test_phone",
      "value": "+264813442530",
      "type": "string",
      "description": "Test phone number (Namibian format)"
    },
    {
      "key": "test_email",
      "value": "test@example.com",
      "type": "string",
      "description": "Test email address"
    }
  ],
  "item": [
    {
      "name": "1. Health & Status",
      "description": "API endpoints for 1. Health & Status",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Verify response is JSON",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "pm.test(\"Response has expected structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "    pm.expect(jsonData).to.have.property('timestamp');",
                  "});",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "health"
              ]
            },
            "description": "Check if the server is running and healthy. Returns JSON response with status and timestamp.",
            "auth": {
              "type": "noauth"
            }
          },
          "response": []
        },
        {
          "name": "API Test",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Verify response is JSON (not HTML)",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                  "});",
                  "",
                  "pm.test(\"Response has standard format\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('success');",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "    pm.expect(jsonData).to.have.property('timestamp');",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response is not HTML\", function () {",
                  "    var body = pm.response.text();",
                  "    pm.expect(body).to.not.include('<!DOCTYPE html>');",
                  "    pm.expect(body).to.not.include('<html>');",
                  "});",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/test",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "test"
              ]
            },
            "description": "Test endpoint to verify API Gateway is working and returning JSON responses. This endpoint verifies that all responses are JSON format (not HTML error pages).",
            "auth": {
              "type": "noauth"
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. User Authentication",
      "description": "API endpoints for 2. User Authentication",
      "item": [
        {
          "name": "Register User (Send OTP)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Generate unique phone number for testing",
                  "var timestamp = Date.now();",
                  "var lastDigits = timestamp.toString().slice(-4);",
                  "pm.collectionVariables.set(\"test_phone\", \"+26481\" + lastDigits);",
                  "console.log(\"üì± Using test phone: \" + pm.collectionVariables.get(\"test_phone\"));"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Verify response is JSON",
                  "pm.test(\"Response is JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                  "});",
                  "",
                  "pm.test(\"Response is not HTML\", function () {",
                  "    var body = pm.response.text();",
                  "    pm.expect(body).to.not.include('<!DOCTYPE html>');",
                  "    pm.expect(body).to.not.include('<html>');",
                  "});",
                  "",
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    pm.test(\"Registration successful\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        pm.expect(jsonData.success).to.be.true;",
                  "        if (jsonData.sessionInfo) {",
                  "            pm.collectionVariables.set(\"session_info\", jsonData.sessionInfo);",
                  "            console.log(\"‚úÖ Session info saved for OTP verification\");",
                  "        }",
                  "    });",
                  "} else {",
                  "    pm.test(\"Error response is JSON\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        pm.expect(jsonData).to.have.property('message');",
                  "    });",
                  "}",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/registration",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "registration"
              ]
            },
            "description": "Register a new user by sending OTP to phone number. Use Namibian format: +264...\n\n**‚ö†Ô∏è IMPORTANT: This endpoint does NOT require authentication!**\n\n**Expected Response (JSON):**\n- `success: true`\n- `message: \"OTP sent successfully\"`\n- `sessionInfo: \"...\"` (save this for OTP verification)\n\n**Note:** All responses are guaranteed to be JSON format.\n\n**This is the FIRST step in the authentication flow - you get the auth token AFTER verifying OTP.**"
          },
          "response": []
        },
        {
          "name": "Verify OTP (Login)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Verify response is JSON",
                  "pm.test(\"Response is JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                  "});",
                  "",
                  "pm.test(\"Response is not HTML\", function () {",
                  "    var body = pm.response.text();",
                  "    pm.expect(body).to.not.include('<!DOCTYPE html>');",
                  "    pm.expect(body).to.not.include('<html>');",
                  "});",
                  "",
                  "// Automatically extract and set auth token",
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    pm.test(\"Login successful\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        if (jsonData.accessToken) {",
                  "            pm.collectionVariables.set(\"auth_token\", jsonData.accessToken);",
                  "            if (jsonData.user && jsonData.user.id) {",
                  "                pm.collectionVariables.set(\"user_id\", jsonData.user.id);",
                  "            }",
                  "            console.log(\"‚úÖ Auth token and user_id saved!\");",
                  "        }",
                  "    });",
                  "} else {",
                  "    pm.test(\"Error response is JSON\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        pm.expect(jsonData).to.have.property('message');",
                  "    });",
                  "}",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"otp\": \"123456\",\n  \"sessionInfo\": \"{{session_info}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/verify-otp",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "verify-otp"
              ]
            },
            "description": "Verify OTP and login. The auth_token and user_id will be automatically saved from the response.\n\n**Response contains:**\n- `accessToken` - Use this as your auth_token (auto-saved)\n- `user.id` - Use this as your user_id (auto-saved)\n\n**Note:**\n- Use `{{session_info}}` from registration response\n- All responses are guaranteed to be JSON format\n- Token is automatically saved to collection variable `auth_token`",
            "auth": {
              "type": "noauth"
            }
          },
          "response": []
        },
        {
          "name": "Request Email OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Verify response is JSON",
                  "pm.test(\"Response is JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                  "});",
                  "",
                  "pm.test(\"Response is not HTML\", function () {",
                  "    var body = pm.response.text();",
                  "    pm.expect(body).to.not.include('<!DOCTYPE html>');",
                  "    pm.expect(body).to.not.include('<html>');",
                  "});",
                  "",
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    pm.test(\"Email OTP request successful\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        pm.expect(jsonData.success).to.be.true;",
                  "    });",
                  "} else {",
                  "    pm.test(\"Error response is JSON\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        pm.expect(jsonData).to.have.property('message');",
                  "    });",
                  "}",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/email-otp-request",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "email-otp-request"
              ]
            },
            "description": "Request OTP to be sent to email address.\n\n**Note:** All responses are guaranteed to be JSON format.",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Verify Email OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Verify response is JSON",
                  "pm.test(\"Response is JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                  "});",
                  "",
                  "pm.test(\"Response is not HTML\", function () {",
                  "    var body = pm.response.text();",
                  "    pm.expect(body).to.not.include('<!DOCTYPE html>');",
                  "});",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/email-otp-verify",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "email-otp-verify"
              ]
            },
            "description": "Verify email OTP.\n\n**Note:** All responses are guaranteed to be JSON format.",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create User Account",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Verify response is JSON",
                  "pm.test(\"Response is JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                  "});",
                  "",
                  "pm.test(\"Response is not HTML\", function () {",
                  "    var body = pm.response.text();",
                  "    pm.expect(body).to.not.include('<!DOCTYPE html>');",
                  "});",
                  "",
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    pm.test(\"Account created successfully\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        if (jsonData.data && jsonData.data.id) {",
                  "            pm.collectionVariables.set(\"user_id\", jsonData.data.id);",
                  "            console.log(\"‚úÖ User ID saved: \" + jsonData.data.id);",
                  "        }",
                  "    });",
                  "}",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"email\": \"{{test_email}}\",\n  \"name\": \"Test User\",\n  \"userType\": \"student\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/create-account",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "create-account"
              ]
            },
            "description": "Create user account after OTP verification.\n\n**Parameters:**\n- `userType`: Can be `student`, `worker`, or `parent`\n\n**Note:** All responses are guaranteed to be JSON format.",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Logged In User Data",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Verify response is JSON",
                  "pm.test(\"Response is JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                  "});",
                  "",
                  "pm.test(\"Response is not HTML\", function () {",
                  "    var body = pm.response.text();",
                  "    pm.expect(body).to.not.include('<!DOCTYPE html>');",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test(\"User data retrieved successfully\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        if (jsonData.data && jsonData.data.id) {",
                  "            pm.collectionVariables.set(\"user_id\", jsonData.data.id);",
                  "        }",
                  "    });",
                  "} else if (pm.response.code === 401) {",
                  "    pm.test(\"Authentication required (expected JSON error)\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('success');",
                  "        pm.expect(jsonData.success).to.be.false;",
                  "    });",
                  "}",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/me",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "me"
              ]
            },
            "description": "Get current logged in user's profile data. Requires authentication.\n\n**Note:**\n- Uses `{{auth_token}}` from collection variables\n- All responses (including 401 errors) are guaranteed to be JSON format"
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. User Ride Management",
      "description": "API endpoints for 3. User Ride Management",
      "item": [
        {
          "name": "Request Ride",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"pickup_location\": {\n    \"latitude\": -22.57,\n    \"longitude\": 17.0836,\n    \"name\": \"Windhoek City Center\",\n    \"address\": \"Independence Ave, Windhoek\"\n  },\n  \"dropoff_location\": {\n    \"latitude\": -22.58,\n    \"longitude\": 17.09,\n    \"name\": \"University of Namibia\",\n    \"address\": \"Pionierspark, Windhoek\"\n  },\n  \"ride_type\": \"standard\",\n  \"estimated_fare\": 13.0,\n  \"passengerCount\": 1\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/request-ride",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "request-ride"
              ]
            },
            "description": "Request a ride. This will notify nearby drivers in real-time via WebSocket. Save the ride_id from response.",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Nearby Drivers",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/nearby-drivers?latitude=-22.5700&longitude=17.0836&radius=5",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "nearby-drivers"
              ],
              "query": [
                {
                  "key": "latitude",
                  "value": "-22.5700",
                  "description": "User's latitude"
                },
                {
                  "key": "longitude",
                  "value": "17.0836",
                  "description": "User's longitude"
                },
                {
                  "key": "radius",
                  "value": "5",
                  "description": "Search radius in km (default: 5)"
                }
              ]
            },
            "description": "Find available drivers near user location. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Cancel Ride",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ride_id\": \"{{ride_id}}\",\n  \"user_id\": \"{{user_id}}\",\n  \"reason\": \"Changed my mind\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/cancel-ride",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "cancel-ride"
              ]
            },
            "description": "Cancel a ride request. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Rate Ride",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ride_id\": \"{{ride_id}}\",\n  \"user_id\": \"{{user_id}}\",\n  \"rating\": 5,\n  \"review\": \"Great ride!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/rate-ride",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "rate-ride"
              ]
            },
            "description": "Rate a completed ride. Rating must be between 1-5. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Ride Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/ride-status/{{ride_id}}",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "ride-status",
                "{{ride_id}}"
              ]
            },
            "description": "Get current status of a ride. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get All User Rides",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/get-rides?page=1&limit=10",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "get-rides"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get all rides for the logged in user. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "4. Driver Authentication",
      "description": "API endpoints for 4. Driver Authentication",
      "item": [
        {
          "name": "Driver Send OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/driver/send-otp",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "send-otp"
              ]
            },
            "description": "Send OTP to driver's phone number for registration",
            "auth": {
              "type": "noauth"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Driver Verify OTP (Registration)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"otp\": \"123456\",\n  \"sessionInfo\": \"{{session_info}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/driver/verify-otp",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "verify-otp"
              ]
            },
            "description": "Verify OTP for driver registration",
            "auth": {
              "type": "noauth"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Driver Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Automatically extract and set auth token for driver",
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.accessToken) {",
                  "        pm.collectionVariables.set(\"auth_token\", jsonData.accessToken);",
                  "        if (jsonData.user && jsonData.user.id) {",
                  "            pm.collectionVariables.set(\"driver_id\", jsonData.user.id);",
                  "        }",
                  "        console.log(\"‚úÖ Driver auth token and driver_id saved!\");",
                  "    } else if (jsonData.data && jsonData.data.token) {",
                  "        pm.collectionVariables.set(\"auth_token\", jsonData.data.token);",
                  "        if (jsonData.data.driver && jsonData.data.driver.id) {",
                  "            pm.collectionVariables.set(\"driver_id\", jsonData.data.driver.id);",
                  "        }",
                  "        console.log(\"‚úÖ Driver auth token and driver_id saved!\");",
                  "    }",
                  "}",
                  "",
                  "// ==================== PERFORMANCE ====================",
                  "pm.test(\"Response time is acceptable\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(10000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"+264812345678\",\n  \"otp\": \"123456\",\n  \"sessionInfo\": \"your_session_info\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/login",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "login"
              ]
            },
            "description": "Driver login with OTP. The auth_token and driver_id will be automatically saved from the response.\n\n**Response contains:**\n- `accessToken` or `data.token` - Use this as your auth_token\n- `user.id` or `data.driver.id` - Use this as your driver_id\n\n**Manual method:** Copy the token value from the response and paste it into the collection variable `auth_token`.",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Driver Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"email\": \"{{test_email}}\",\n  \"name\": \"Test User\",\n  \"userType\": \"student\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/driver/create-account",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "create-account"
              ]
            },
            "description": "Create driver account after OTP verification. Save the driver_id from response.",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Logged In Driver Data",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/me",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "me"
              ]
            },
            "description": "Get current logged in driver's profile data. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "5. Driver Ride Management",
      "description": "API endpoints for 5. Driver Ride Management",
      "item": [
        {
          "name": "Get Available Rides",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/available-rides",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "available-rides"
              ]
            },
            "description": "Get all pending ride requests available for drivers. Drivers receive real-time notifications via WebSocket when users request rides. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Accept Ride",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rideId\": \"{{ride_id}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/accept-ride",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "accept-ride"
              ]
            },
            "description": "Driver accepts a ride request. User will be notified. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Decline Ride",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rideId\": \"{{ride_id}}\",\n  \"reason\": \"Too far away\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/decline-ride",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "decline-ride"
              ]
            },
            "description": "Driver declines a ride request. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Start Ride",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rideId\": \"{{ride_id}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/start-ride",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "start-ride"
              ]
            },
            "description": "Driver starts the ride (picks up passenger). Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Complete Ride",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rideId\": \"{{ride_id}}\",\n  \"final_fare\": 13.00\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/complete-ride",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "complete-ride"
              ]
            },
            "description": "Driver completes the ride (drops off passenger). Final fare is NAD 13.00 paid in cash to driver. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Update Driver Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"online\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/driver/update-status",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "update-status"
              ]
            },
            "description": "Update driver status (online, offline, busy). Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Update Driver Location",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": -22.57,\n  \"longitude\": 17.0836,\n  \"status\": \"online\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/driver/update-location",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "update-location"
              ]
            },
            "description": "Update driver's current location. Required for finding nearby drivers. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Driver Rides",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/get-rides",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "get-rides"
              ]
            },
            "description": "Get all rides for the logged in driver. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "6. Driver Subscription (NAD 150.00/month)",
      "description": "API endpoints for 6. Driver Subscription (NAD 150.00/month)",
      "item": [
        {
          "name": "Create Driver Subscription",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"driver_id\": \"{{driver_id}}\",\n  \"payment_method\": \"cash\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/subscription",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "subscription"
              ]
            },
            "description": "Create driver subscription. Amount is NAD 150.00 per month. Payment method must be 'cash' only. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Driver Subscription Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/subscription",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "subscription"
              ]
            },
            "description": "Get current driver's subscription status. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Driver Subscription by ID",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/subscription/{{driver_id}}",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "subscription",
                "{{driver_id}}"
              ]
            },
            "description": "Get subscription status for a specific driver by ID. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Update Driver Subscription",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"auto_renew\": true,\n  \"payment_method\": \"cash\",\n  \"notification_preferences\": {\n    \"email\": true,\n    \"sms\": true,\n    \"push\": true\n  }\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/subscription/{{driver_id}}",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "subscription",
                "{{driver_id}}"
              ]
            },
            "description": "Update driver subscription settings. Payment method must be 'cash'. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Process Subscription Payment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"driver_id\": \"{{driver_id}}\",\n  \"payment_method\": \"cash\",\n  \"amount\": 150.00\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/subscription/payment",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "subscription",
                "payment"
              ]
            },
            "description": "Process subscription payment. Amount must be exactly NAD 150.00. Payment method must be 'cash'. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Subscription History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/subscription/history/{{driver_id}}?page=1&limit=10",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "subscription",
                "history",
                "{{driver_id}}"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get subscription payment history for a driver. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "7. Parent Subscription (NAD 1000.00/month)",
      "description": "API endpoints for 7. Parent Subscription (NAD 1000.00/month)",
      "item": [
        {
          "name": "Subscribe to Parent Package",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"payment_method\": \"cash\",\n  \"children_profiles\": [\n    {\n      \"child_name\": \"Jane Doe\",\n      \"child_age\": 10,\n      \"school_name\": \"Windhoek Primary School\",\n      \"pickup_address\": \"123 Main St, Windhoek\",\n      \"dropoff_address\": \"Windhoek Primary School, Pionierspark\",\n      \"emergency_contact\": {\n        \"name\": \"John Doe\",\n        \"phone\": \"+264813442530\"\n      }\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{api_base}}/parent/subscribe",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "parent",
                "subscribe"
              ]
            },
            "description": "Subscribe to parent monthly package. Amount is NAD 1000.00 per month for unlimited rides. Payment method must be 'cash' only. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Parent Subscription Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/parent/subscription?user_id={{user_id}}",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "parent",
                "subscription"
              ],
              "query": [
                {
                  "key": "user_id",
                  "value": "{{user_id}}"
                }
              ]
            },
            "description": "Get parent subscription status. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Update Parent Subscription",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"auto_renew\": true,\n}"
            },
            "url": {
              "raw": "{{api_base}}/parent/subscription",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "parent",
                "subscription"
              ]
            },
            "description": "Update parent subscription settings. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Cancel Parent Subscription",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"reason\": \"No longer needed\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/parent/subscription",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "parent",
                "subscription"
              ]
            },
            "description": "Cancel parent subscription. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Parent Usage Stats",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/parent/usage?user_id={{user_id}}&month=11&year=2024",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "parent",
                "usage"
              ],
              "query": [
                {
                  "key": "user_id",
                  "value": "{{user_id}}"
                },
                {
                  "key": "month",
                  "value": "11",
                  "description": "Month (1-12)"
                },
                {
                  "key": "year",
                  "value": "2024",
                  "description": "Year"
                }
              ]
            },
            "description": "Get monthly usage statistics for parent subscription. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Children Profiles",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/parent/children?user_id={{user_id}}",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "parent",
                "children"
              ],
              "query": [
                {
                  "key": "user_id",
                  "value": "{{user_id}}"
                }
              ]
            },
            "description": "Get all children profiles for a parent. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Add Child Profile",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"child_name\": \"Jane Doe\",\n  \"child_age\": 10,\n  \"school_name\": \"Windhoek Primary School\",\n  \"pickup_address\": \"123 Main St, Windhoek\",\n  \"dropoff_address\": \"Windhoek Primary School, Pionierspark\",\n  \"emergency_contact\": {\n    \"name\": \"John Doe\",\n    \"phone\": \"+264813442530\"\n  }\n}"
            },
            "url": {
              "raw": "{{api_base}}/parent/children",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "parent",
                "children"
              ]
            },
            "description": "Add a child profile to parent subscription. Child age must be between 5-18. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "8. Payment Management (Cash Only)",
      "description": "API endpoints for 8. Payment Management (Cash Only)",
      "item": [
        {
          "name": "Calculate Fare",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pickup_location\": {\n    \"latitude\": -22.5700,\n    \"longitude\": 17.0836\n  },\n  \"dropoff_location\": {\n    \"latitude\": -22.5800,\n    \"longitude\": 17.0900\n  },\n  \"ride_type\": \"standard\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/payment/calculate-fare",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "payment",
                "calculate-fare"
              ]
            },
            "description": "Calculate fare for a ride based on distance. Default fare is NAD 13.00 per ride. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Process Payment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ride_id\": \"{{ride_id}}\",\n  \"user_id\": \"{{user_id}}\",\n  \"amount\": 13.00,\n  \"payment_method\": \"cash\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/payment/process",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "payment",
                "process"
              ]
            },
            "description": "Process payment for a ride. Amount is NAD 13.00 per ride, paid in cash to driver. Payment method must be 'cash' only. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Payment History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/payment/history?page=1&limit=10",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "payment",
                "history"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get payment history for the logged in user. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Subscribe Monthly (User)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentMethod\": \"cash\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/subscribe-monthly",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "subscribe-monthly"
              ]
            },
            "description": "Subscribe to monthly package. Payment method must be 'cash'. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "9. Profile & Settings",
      "description": "API endpoints for 9. Profile & Settings",
      "item": [
        {
          "name": "Update User Profile",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Name\",\n  \"email\": \"updated@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/update-profile",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "update-profile"
              ]
            },
            "description": "Update user profile information. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Update User Location",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": -22.57,\n  \"longitude\": 17.0836\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{api_base}}/update-location",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "update-location"
              ]
            },
            "description": "Update user's current location. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "10. Analytics & Reports",
      "description": "API endpoints for 10. Analytics & Reports",
      "item": [
        {
          "name": "Get User Ride Analytics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/analytics/rides",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "analytics",
                "rides"
              ]
            },
            "description": "Get ride analytics for the logged in user. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get User Performance Analytics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/analytics/performance",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "analytics",
                "performance"
              ]
            },
            "description": "Get performance analytics for the logged in user. Requires authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Driver Earnings",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/analytics/earnings",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "analytics",
                "earnings"
              ]
            },
            "description": "Get earnings analytics for the logged in driver. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Driver Ride Analytics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/analytics/rides",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "analytics",
                "rides"
              ]
            },
            "description": "Get ride analytics for the logged in driver. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Driver Performance Analytics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/analytics/performance",
              "host": [
                "{{api_base}}"
              ],
              "path": [
                "driver",
                "analytics",
                "performance"
              ]
            },
            "description": "Get performance analytics for the logged in driver. Requires driver authentication."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": "// ==================== RESPONSE VALIDATION ====================\npm.test(\"Response is JSON\", function () {\n    pm.response.to.be.json;\n    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\n});\n\npm.test(\"Response is not HTML\", function () {\n    var body = pm.response.text();\n    pm.expect(body).to.not.include('<!DOCTYPE html>');\n    pm.expect(body).to.not.include('<html>');\n});\n\npm.test(\"Response has standard format\", function () {\n    var jsonData = pm.response.json();\n    pm.expect(jsonData).to.have.property('success');\n    pm.expect(jsonData).to.have.property('message');\n    pm.expect(jsonData).to.have.property('timestamp');\n});\n\n// ==================== PERFORMANCE ====================\npm.test(\"Response time is acceptable\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(10000);\n});\n\nif (pm.response.code === 200 || pm.response.code === 201) {\n    pm.test(\"Request successful\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData.success).to.be.true;\n    });\n}\n\nelse {\n    pm.test(\"Error response is JSON\", function () {\n        var jsonData = pm.response.json();\n        pm.expect(jsonData).to.have.property('success');\n        pm.expect(jsonData.success).to.be.false;\n        pm.expect(jsonData).to.have.property('message');\n    });\n}",
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    }
  ]
}