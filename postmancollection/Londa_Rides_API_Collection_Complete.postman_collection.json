{
  "info": {
    "name": "Londa Rides API - Complete Collection",
    "description": "Complete API collection for Londa Rides CC with all endpoints, proper authentication, and request bodies.\n\n## Authentication:\n- Bearer Token authentication is configured at collection level\n- Public endpoints (registration, OTP) have auth disabled\n- Protected endpoints use {{auth_token}} variable\n- Note: accessToken from /verify-otp is a Firebase Custom Token\n- In development mode, custom tokens can be used directly\n- In production, exchange custom token for ID token using Firebase SDK\n\n## Getting Started:\n1. Register/Login to get auth_token (custom token)\n2. Token is auto-saved to collection variable\n3. All protected endpoints will use the token automatically\n4. For mobile apps, see Frontend Integration Guide for token exchange\n\n## Important Notes:\n- user_id and driver_id are automatically extracted from auth tokens\n- Do NOT include user_id or driver_id in request bodies\n- See API_DOCUMENTATION.md for complete endpoint details\n- See FRONTEND_INTEGRATION_GUIDE.md for mobile app integration",
    "version": "4.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{auth_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "api_base",
      "value": "{{base_url}}/api/v1",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "driver_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "ride_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "test_phone",
      "value": "+264813442530",
      "type": "string"
    },
    {
      "key": "test_email",
      "value": "test@example.com",
      "type": "string"
    },
    {
      "key": "session_info",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Health & Status",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            }
          },
          "response": []
        },
        {
          "name": "API Test",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/test",
              "host": ["{{base_url}}"],
              "path": ["test"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. User Authentication",
      "item": [
        {
          "name": "Register User (Send OTP)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.sessionInfo) {",
                  "        pm.collectionVariables.set(\"session_info\", jsonData.data.sessionInfo);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/registration",
              "host": ["{{api_base}}"],
              "path": ["registration"]
            }
          },
          "response": []
        },
        {
          "name": "Verify OTP (Login)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.accessToken) {",
                  "        pm.collectionVariables.set(\"auth_token\", jsonData.data.accessToken);",
                  "        if (jsonData.data.user && jsonData.data.user.id) {",
                  "            pm.collectionVariables.set(\"user_id\", jsonData.data.user.id);",
                  "        }",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"otp\": \"123456\",\n  \"sessionInfo\": \"{{session_info}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/verify-otp",
              "host": ["{{api_base}}"],
              "path": ["verify-otp"]
            }
          },
          "response": []
        },
        {
          "name": "User Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.accessToken) {",
                  "        pm.collectionVariables.set(\"auth_token\", jsonData.data.accessToken);",
                  "        if (jsonData.data.user && jsonData.data.user.id) {",
                  "            pm.collectionVariables.set(\"user_id\", jsonData.data.user.id);",
                  "        }",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"otp\": \"123456\",\n  \"sessionInfo\": \"{{session_info}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/login",
              "host": ["{{api_base}}"],
              "path": ["login"]
            }
          },
          "response": []
        },
        {
          "name": "Request Email OTP",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{test_email}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/email-otp-request",
              "host": ["{{api_base}}"],
              "path": ["email-otp-request"]
            }
          },
          "response": []
        },
        {
          "name": "Verify Email OTP",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{test_email}}\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/email-otp-verify",
              "host": ["{{api_base}}"],
              "path": ["email-otp-verify"]
            }
          },
          "response": []
        },
        {
          "name": "Create User Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"email\": \"{{test_email}}\",\n  \"name\": \"Test User\",\n  \"userType\": \"student\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/create-account",
              "host": ["{{api_base}}"],
              "path": ["create-account"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.accessToken) {",
                  "        pm.collectionVariables.set(\"auth_token\", jsonData.data.accessToken);",
                  "        if (jsonData.data.user && jsonData.data.user.id) {",
                  "            if (jsonData.data.user.userType === 'driver' || jsonData.data.user.status) {",
                  "                pm.collectionVariables.set(\"driver_id\", jsonData.data.user.id);",
                  "            } else {",
                  "                pm.collectionVariables.set(\"user_id\", jsonData.data.user.id);",
                  "            }",
                  "        }",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{api_base}}/refresh-token",
              "host": ["{{api_base}}"],
              "path": ["refresh-token"]
            }
          },
          "response": []
        },
        {
          "name": "Get Current User Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/me",
              "host": ["{{api_base}}"],
              "path": ["me"]
            }
          },
          "response": []
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Name\",\n  \"email\": \"updated@example.com\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/update-profile",
              "host": ["{{api_base}}"],
              "path": ["update-profile"]
            }
          },
          "response": []
        },
        {
          "name": "Update User Location",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": -22.5700,\n  \"longitude\": 17.0836\n}"
            },
            "url": {
              "raw": "{{api_base}}/update-location",
              "host": ["{{api_base}}"],
              "path": ["update-location"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. User Ride Management",
      "item": [
        {
          "name": "Request Ride",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.id) {",
                  "        pm.collectionVariables.set(\"ride_id\", jsonData.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pickup_location\": {\n    \"latitude\": -22.5700,\n    \"longitude\": 17.0836,\n    \"name\": \"Windhoek City Center\",\n    \"address\": \"Independence Ave, Windhoek\"\n  },\n  \"dropoff_location\": {\n    \"latitude\": -22.5800,\n    \"longitude\": 17.0900,\n    \"name\": \"University of Namibia\",\n    \"address\": \"Pionierspark, Windhoek\"\n  },\n  \"ride_type\": \"standard\",\n  \"estimated_fare\": 13.00,\n  \"passengerCount\": 1\n}"
            },
            "url": {
              "raw": "{{api_base}}/request-ride",
              "host": ["{{api_base}}"],
              "path": ["request-ride"]
            }
          },
          "response": []
        },
        {
          "name": "Get Nearby Drivers",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/nearby-drivers?latitude=-22.5700&longitude=17.0836&radius=5",
              "host": ["{{api_base}}"],
              "path": ["nearby-drivers"],
              "query": [
                {
                  "key": "latitude",
                  "value": "-22.5700"
                },
                {
                  "key": "longitude",
                  "value": "17.0836"
                },
                {
                  "key": "radius",
                  "value": "5"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Ride",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ride_id\": \"{{ride_id}}\",\n  \"reason\": \"Changed my mind\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/cancel-ride",
              "host": ["{{api_base}}"],
              "path": ["cancel-ride"]
            }
          },
          "response": []
        },
        {
          "name": "Rate Ride",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ride_id\": \"{{ride_id}}\",\n  \"rating\": 5,\n  \"review\": \"Great ride!\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/rate-ride",
              "host": ["{{api_base}}"],
              "path": ["rate-ride"]
            }
          },
          "response": []
        },
        {
          "name": "Get Ride Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/ride-status/{{ride_id}}",
              "host": ["{{api_base}}"],
              "path": ["ride-status", "{{ride_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get All User Rides",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/get-rides?page=1&limit=10",
              "host": ["{{api_base}}"],
              "path": ["get-rides"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "4. Driver Authentication",
      "item": [
        {
          "name": "Driver Send OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.sessionInfo) {",
                  "        pm.collectionVariables.set(\"session_info\", jsonData.data.sessionInfo);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/send-otp",
              "host": ["{{api_base}}"],
              "path": ["driver", "send-otp"]
            }
          },
          "response": []
        },
        {
          "name": "Driver Verify OTP",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"otp\": \"123456\",\n  \"sessionInfo\": \"{{session_info}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/verify-otp",
              "host": ["{{api_base}}"],
              "path": ["driver", "verify-otp"]
            }
          },
          "response": []
        },
        {
          "name": "Driver Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.accessToken) {",
                  "        pm.collectionVariables.set(\"auth_token\", jsonData.data.accessToken);",
                  "        if (jsonData.data.driver && jsonData.data.driver.id) {",
                  "            pm.collectionVariables.set(\"driver_id\", jsonData.data.driver.id);",
                  "        }",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"otp\": \"123456\",\n  \"sessionInfo\": \"{{session_info}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/login",
              "host": ["{{api_base}}"],
              "path": ["driver", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Create Driver Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"{{test_phone}}\",\n  \"email\": \"{{test_email}}\",\n  \"name\": \"Test Driver\",\n  \"license_number\": \"DL123456\",\n  \"vehicle_model\": \"Toyota Corolla\",\n  \"vehicle_plate\": \"ABC-123\",\n  \"vehicle_color\": \"White\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/create-account",
              "host": ["{{api_base}}"],
              "path": ["driver", "create-account"]
            }
          },
          "response": []
        },
        {
          "name": "Get Current Driver Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/me",
              "host": ["{{api_base}}"],
              "path": ["driver", "me"]
            }
          },
          "response": []
        },
        {
          "name": "Update Driver Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"online\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/update-status",
              "host": ["{{api_base}}"],
              "path": ["driver", "update-status"]
            }
          },
          "response": []
        },
        {
          "name": "Update Driver Location",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": -22.5700,\n  \"longitude\": 17.0836,\n  \"status\": \"online\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/update-location",
              "host": ["{{api_base}}"],
              "path": ["driver", "update-location"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "5. Driver Ride Management",
      "item": [
        {
          "name": "Get Available Rides",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/available-rides?limit=50",
              "host": ["{{api_base}}"],
              "path": ["driver", "available-rides"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Accept Ride",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rideId\": \"{{ride_id}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/accept-ride",
              "host": ["{{api_base}}"],
              "path": ["driver", "accept-ride"]
            }
          },
          "response": []
        },
        {
          "name": "Decline Ride",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rideId\": \"{{ride_id}}\",\n  \"reason\": \"Too far\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/decline-ride",
              "host": ["{{api_base}}"],
              "path": ["driver", "decline-ride"]
            }
          },
          "response": []
        },
        {
          "name": "Start Ride",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rideId\": \"{{ride_id}}\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/start-ride",
              "host": ["{{api_base}}"],
              "path": ["driver", "start-ride"]
            }
          },
          "response": []
        },
        {
          "name": "Complete Ride",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rideId\": \"{{ride_id}}\",\n  \"final_fare\": 13.00\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/complete-ride",
              "host": ["{{api_base}}"],
              "path": ["driver", "complete-ride"]
            }
          },
          "response": []
        },
        {
          "name": "Get Driver Rides",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/get-rides?page=1&limit=10",
              "host": ["{{api_base}}"],
              "path": ["driver", "get-rides"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "6. Driver Subscription",
      "item": [
        {
          "name": "Create Driver Subscription",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_method\": \"cash\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/subscription",
              "host": ["{{api_base}}"],
              "path": ["driver", "subscription"],
              "description": "Creates a driver subscription. The driver_id is automatically extracted from the Bearer token - do NOT include it in the request body."
            }
          },
          "response": []
        },
        {
          "name": "Get Driver Subscription Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/subscription",
              "host": ["{{api_base}}"],
              "path": ["driver", "subscription"]
            }
          },
          "response": []
        },
        {
          "name": "Get Driver Subscription by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/subscription/{{driver_id}}",
              "host": ["{{api_base}}"],
              "path": ["driver", "subscription", "{{driver_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Driver Subscription",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"auto_renew\": true,\n  \"payment_method\": \"cash\",\n  \"notification_preferences\": {\n    \"ride_requests\": true,\n    \"payments\": true\n  }\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/subscription/{{driver_id}}",
              "host": ["{{api_base}}"],
              "path": ["driver", "subscription", "{{driver_id}}"],
              "description": "Updates driver subscription settings. The driver_id in the path must match the authenticated driver's ID."
            }
          },
          "response": []
        },
        {
          "name": "Process Subscription Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_method\": \"cash\",\n  \"amount\": 150.00\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/subscription/payment",
              "host": ["{{api_base}}"],
              "path": ["driver", "subscription", "payment"],
              "description": "Processes subscription payment. The driver_id is automatically extracted from the Bearer token - do NOT include it in the request body."
            }
          },
          "response": []
        },
        {
          "name": "Get Subscription History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/subscription/history/{{driver_id}}?page=1&limit=10",
              "host": ["{{api_base}}"],
              "path": ["driver", "subscription", "history", "{{driver_id}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Driver Subscription",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"No longer driving for Londa Rides\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/driver/subscription/{{driver_id}}",
              "host": ["{{api_base}}"],
              "path": ["driver", "subscription", "{{driver_id}}"],
              "description": "Cancels driver subscription. The driver_id in the path must match the authenticated driver's ID. The reason field is optional in the request body."
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "7. Parent Subscription",
      "item": [
        {
          "name": "Subscribe to Parent Package",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_method\": \"cash\",\n  \"children_profiles\": [\n    {\n      \"child_name\": \"John Doe\",\n      \"child_age\": 10,\n      \"school_name\": \"Windhoek Primary School\",\n      \"pickup_address\": \"123 Main St, Windhoek\",\n      \"dropoff_address\": \"456 School Rd, Windhoek\",\n      \"emergency_contact\": {\n        \"name\": \"Jane Doe\",\n        \"phone\": \"+264813442530\"\n      }\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{api_base}}/parent/subscribe",
              "host": ["{{api_base}}"],
              "path": ["parent", "subscribe"]
            }
          },
          "response": []
        },
        {
          "name": "Get Parent Subscription Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/parent/subscription?user_id={{user_id}}",
              "host": ["{{api_base}}"],
              "path": ["parent", "subscription"],
              "query": [
                {
                  "key": "user_id",
                  "value": "{{user_id}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Parent Subscription",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"auto_renew\": true\n}"
            },
            "url": {
              "raw": "{{api_base}}/parent/subscription",
              "host": ["{{api_base}}"],
              "path": ["parent", "subscription"]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Parent Subscription",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"No longer needed\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/parent/subscription",
              "host": ["{{api_base}}"],
              "path": ["parent", "subscription"]
            }
          },
          "response": []
        },
        {
          "name": "Get Parent Usage Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/parent/usage?user_id={{user_id}}&month=12&year=2024",
              "host": ["{{api_base}}"],
              "path": ["parent", "usage"],
              "query": [
                {
                  "key": "user_id",
                  "value": "{{user_id}}"
                },
                {
                  "key": "month",
                  "value": "12"
                },
                {
                  "key": "year",
                  "value": "2024"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Children Profiles",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/parent/children?user_id={{user_id}}",
              "host": ["{{api_base}}"],
              "path": ["parent", "children"],
              "query": [
                {
                  "key": "user_id",
                  "value": "{{user_id}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Add Child Profile",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"child_name\": \"Jane Doe\",\n  \"child_age\": 8,\n  \"school_name\": \"Windhoek Elementary\",\n  \"pickup_address\": \"123 Main St, Windhoek\",\n  \"dropoff_address\": \"789 School Ave, Windhoek\",\n  \"emergency_contact\": {\n    \"name\": \"John Doe\",\n    \"phone\": \"+264813442531\"\n  }\n}"
            },
            "url": {
              "raw": "{{api_base}}/parent/children",
              "host": ["{{api_base}}"],
              "path": ["parent", "children"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "8. Payment Management",
      "item": [
        {
          "name": "Calculate Fare",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pickup_location\": {\n    \"latitude\": -22.5700,\n    \"longitude\": 17.0836\n  },\n  \"dropoff_location\": {\n    \"latitude\": -22.5800,\n    \"longitude\": 17.0900\n  },\n  \"ride_type\": \"standard\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/payment/calculate-fare",
              "host": ["{{api_base}}"],
              "path": ["payment", "calculate-fare"]
            }
          },
          "response": []
        },
        {
          "name": "Process Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ride_id\": \"{{ride_id}}\",\n  \"amount\": 13.00,\n  \"payment_method\": \"cash\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/payment/process",
              "host": ["{{api_base}}"],
              "path": ["payment", "process"]
            }
          },
          "response": []
        },
        {
          "name": "Get Payment History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/payment/history?page=1&limit=10",
              "host": ["{{api_base}}"],
              "path": ["payment", "history"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Subscribe Monthly",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentMethod\": \"cash\"\n}"
            },
            "url": {
              "raw": "{{api_base}}/subscribe-monthly",
              "host": ["{{api_base}}"],
              "path": ["subscribe-monthly"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "9. Analytics & Reports",
      "item": [
        {
          "name": "Get User Ride Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/analytics/rides",
              "host": ["{{api_base}}"],
              "path": ["analytics", "rides"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Performance Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/analytics/performance",
              "host": ["{{api_base}}"],
              "path": ["analytics", "performance"]
            }
          },
          "response": []
        },
        {
          "name": "Get Driver Earnings",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/analytics/earnings",
              "host": ["{{api_base}}"],
              "path": ["driver", "analytics", "earnings"]
            }
          },
          "response": [
            {
              "name": "Success - Driver Earnings with Daily/Weekly/Monthly Breakdown",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{driver_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{api_base}}/driver/analytics/earnings",
                  "host": ["{{api_base}}"],
                  "path": ["driver", "analytics", "earnings"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"success\": true,\n  \"message\": \"Driver earnings retrieved successfully\",\n  \"data\": {\n    \"totalEarnings\": 3250.00,\n    \"totalRides\": 250,\n    \"averageEarningPerRide\": 13.00,\n    \"currency\": \"NAD\",\n    \"daily\": {\n      \"total\": 26.00,\n      \"rides\": 2,\n      \"breakdown\": [\n        {\n          \"date\": \"2025-01-04\",\n          \"earnings\": 26.00,\n          \"rides\": 2\n        }\n      ]\n    },\n    \"weekly\": {\n      \"total\": 195.00,\n      \"rides\": 15,\n      \"breakdown\": [\n        {\n          \"date\": \"2025-01-04\",\n          \"earnings\": 26.00,\n          \"rides\": 2\n        },\n        {\n          \"date\": \"2025-01-03\",\n          \"earnings\": 39.00,\n          \"rides\": 3\n        },\n        {\n          \"date\": \"2025-01-02\",\n          \"earnings\": 52.00,\n          \"rides\": 4\n        },\n        {\n          \"date\": \"2025-01-01\",\n          \"earnings\": 39.00,\n          \"rides\": 3\n        },\n        {\n          \"date\": \"2024-12-31\",\n          \"earnings\": 26.00,\n          \"rides\": 2\n        },\n        {\n          \"date\": \"2024-12-30\",\n          \"earnings\": 13.00,\n          \"rides\": 1\n        }\n      ]\n    },\n    \"monthly\": {\n      \"total\": 650.00,\n      \"rides\": 50,\n      \"breakdown\": [\n        {\n          \"date\": \"2025-01-04\",\n          \"earnings\": 26.00,\n          \"rides\": 2\n        },\n        {\n          \"date\": \"2025-01-03\",\n          \"earnings\": 39.00,\n          \"rides\": 3\n        },\n        {\n          \"date\": \"2025-01-02\",\n          \"earnings\": 52.00,\n          \"rides\": 4\n        }\n      ]\n    }\n  },\n  \"timestamp\": \"2025-01-04T19:00:00.000000\"\n}"
            }
          ]
        },
        {
          "name": "Get Driver Ride Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/analytics/rides",
              "host": ["{{api_base}}"],
              "path": ["driver", "analytics", "rides"]
            }
          },
          "response": []
        },
        {
          "name": "Get Driver Performance Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_base}}/driver/analytics/performance",
              "host": ["{{api_base}}"],
              "path": ["driver", "analytics", "performance"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}

